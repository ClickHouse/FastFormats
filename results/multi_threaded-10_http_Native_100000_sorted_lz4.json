{
  "client_machine": "m6i.8xlarge, 10000gib gp3",
  "server_system": "ClickHouse Cloud 24.10 30 vCPU and 120 GiB per replica / 3 replicas",
  "date": "2025-02-18",
  "threads": 10,
  "interface": "http",
  "format": "Native",
  "total_num_rows": 10000000,
  "batch_size": "100000",
  "sorted": "true",
  "compressor": "lz4",
  "server_metrics": {
    "db_name": "multi_threaded_ingest_test05",
    "table_name": "hits",
    "used_interface": "http",
    "used_transport_format": "Native",
    "inserts": 1000,
    "rows_per_insert": 100000,
    "total_inserted_rows": 100000000,
    "total_time_including_client_loop_s": 183,
    "total_received_bytes": 22612148350,
    "received_bytes_per_insert": 22612148,
    "total_received_bytes_readable": "21.06 GiB",
    "received_bytes_per_insert_readable": "21.56 MiB",
    "total_written_bytes_compressed": 16545393460,
    "written_bytes_compressed_per_insert": 16545393,
    "total_written_bytes_compressed_readable": "15.41 GiB",
    "written_bytes_compressed_per_insert_readable": "15.78 MiB",
    "total_insert_duration_s": 718.53,
    "total_network_receive_duration_s": 170.89,
    "total_block_sort_duration_s": 0.94,
    "total_storage_write_duration_s": 235.92,
    "total_cpu_s": 378.54,
    "num_delayed_inserts": 0,
    "total_delayed_inserts_ms": 0,
    "insert_duration_ms_50th": 727,
    "insert_duration_ms_95th": 807.15,
    "insert_duration_ms_99th": 882.03,
    "network_receive_duration_ms_50th": 185.8,
    "network_receive_duration_ms_95th": 242.1,
    "network_receive_duration_ms_99th": 267.86,
    "block_sort_duration_ms_50th": 0.93,
    "block_sort_duration_ms_95th": 0.99,
    "block_sort_duration_ms_99th": 1.1,
    "storage_write_duration_ms_50th": 230.72,
    "storage_write_duration_ms_95th": 268.45,
    "storage_write_duration_ms_99th": 343.23,
    "network_received_bytes_50th": 22610829,
    "network_received_bytes_95th": 22705471,
    "network_received_bytes_99th": 22739828,
    "network_received_bytes_50th_readable": "21.56 MiB",
    "network_received_bytes_95th_readable": "21.65 MiB",
    "network_received_bytes_99th_readable": "21.69 MiB",
    "mergetree_written_uncompressed_bytes_50th": 82448262,
    "mergetree_written_uncompressed_bytes_95th": 82636671,
    "mergetree_written_uncompressed_bytes_99th": 82677652,
    "mergetree_written_uncompressed_bytes_50th_readable": "78.63 MiB",
    "mergetree_written_uncompressed_bytes_95th_readable": "78.81 MiB",
    "mergetree_written_uncompressed_bytes_99th_readable": "78.85 MiB",
    "mergetree_written_compressed_bytes_50th": 16543502,
    "mergetree_written_compressed_bytes_95th": 16602226,
    "mergetree_written_compressed_bytes_99th": 16630185,
    "mergetree_written_compressed_bytes_50th_readable": "15.78 MiB",
    "mergetree_written_compressed_bytes_95th_readable": "15.83 MiB",
    "mergetree_written_compressed_bytes_99th_readable": "15.86 MiB",
    "memory_usage_bytes_50th": 221980506,
    "memory_usage_bytes_95th": 222373677,
    "memory_usage_bytes_99th": 222529712,
    "memory_usage_50th_readable": "211.70 MiB",
    "memory_usage_95th_readable": "212.07 MiB",
    "memory_usage_99th_readable": "212.22 MiB",
    "cpu_ms_50th": 376.89,
    "cpu_ms_95th": 407.74,
    "cpu_ms_99th": 451.61,
    "num_used_threads_50th": 2,
    "num_used_threads_95th": 2,
    "num_used_threads_99th": 2,
    "num_used_threads_concurrently_50th": 2,
    "num_used_threads_concurrently_95th": 2,
    "num_used_threads_concurrently_99th": 2,
    "profileevents_sample": "{'Query':1,'InsertQuery':1,'InitialQuery':1,'FileOpen':1,'WriteBufferFromFileDescriptorWrite':5,'WriteBufferFromFileDescriptorWriteBytes':16518135,'IOBufferAllocs':14,'IOBufferAllocBytes':19088242,'FunctionExecute':105,'DiskWriteElapsedMicroseconds':8220,'NetworkReceiveElapsedMicroseconds':92303,'NetworkReceiveBytes':22567873,'LocalThreadPoolJobs':1,'InsertedRows':100000,'InsertedBytes':82344589,'ZooKeeperTransactions':14,'ZooKeeperCreate':1,'ZooKeeperRemove':1,'ZooKeeperExists':1,'ZooKeeperGet':1,'ZooKeeperMulti':10,'ZooKeeperUserExceptions':1,'SelectedRows':100000,'SelectedBytes':82344589,'MergeTreeDataWriterRows':100000,'MergeTreeDataWriterUncompressedBytes':82344589,'MergeTreeDataWriterCompressedBytes':16515366,'MergeTreeDataWriterBlocks':1,'MergeTreeDataWriterBlocksAlreadySorted':1,'MergeTreeDataWriterSortingBlocksMicroseconds':941,'MergeTreeDataWriterMergingBlocksMicroseconds':3,'InsertedCompactParts':1,'ContextLock':23,'RWLockAcquiredReadLocks':2,'PartsLockHoldMicroseconds':159,'RealTimeMicroseconds':984659,'UserTimeMicroseconds':297282,'SystemTimeMicroseconds':75649,'SoftPageFaults':54123,'OSCPUVirtualTimeMicroseconds':372928,'OSWriteBytes':16523264,'OSReadChars':2094,'OSWriteChars':33113375,'S3WriteMicroseconds':235309,'S3WriteRequestsCount':1,'DiskS3WriteMicroseconds':235309,'DiskS3WriteRequestsCount':1,'S3PutObject':1,'DiskS3PutObject':1,'WriteBufferFromS3Microseconds':266585,'WriteBufferFromS3Bytes':16518135,'CachedWriteBufferCacheWriteBytes':16518135,'CachedWriteBufferCacheWriteMicroseconds':8412,'FilesystemCacheReserveMicroseconds':108,'FileSegmentCompleteMicroseconds':8,'FileSegmentWriteMicroseconds':8260,'FilesystemCacheHoldFileSegments':1,'FilesystemCacheUnusedHoldFileSegments':1,'MetadataFromKeeperCacheHit':17,'MetadataFromKeeperCacheMiss':9,'MetadataFromKeeperTransactionCommit':2,'MetadataFromKeeperOperations':8,'MetadataFromKeeperIndividualOperations':6,'SharedMergeTreeMetadataCacheHintLoadedFromCache':1,'LogTrace':10,'LogDebug':13,'LoggerElapsedNanoseconds':573873,'InterfaceHTTPReceiveBytes':22567873,'DiskConnectionsReused':1,'DiskConnectionsPreserved':1,'HTTPConnectionsCreated':1,'HTTPConnectionsPreserved':1,'HTTPConnectionsExpired':18,'HTTPConnectionsElapsedMicroseconds':1278,'ReadWriteBufferFromHTTPRequestsSent':1,'ReadWriteBufferFromHTTPBytes':663}"
  },
  "cpu_memory_usage": "[(0,4.17,2497417164,'2.33 GiB'),(10,3.79,2217980657,'2.07 GiB'),(20,2.93,1727216571,'1.61 GiB'),(30,3.84,2220622359,'2.07 GiB'),(40,3.76,2219787921,'2.07 GiB'),(50,3.72,2219402830,'2.07 GiB'),(60,3.78,2219593522,'2.07 GiB'),(70,2.89,1660932486,'1.55 GiB'),(80,3.26,1901908254,'1.77 GiB'),(90,3.14,1850694652,'1.72 GiB'),(100,3.77,2219515464,'2.07 GiB'),(110,3.86,2217488350,'2.07 GiB'),(120,3.86,2217258500,'2.06 GiB'),(130,3.97,2220966715,'2.07 GiB'),(140,3.82,2218732016,'2.07 GiB'),(150,3.16,1847318577,'1.72 GiB'),(160,3.69,2175046970,'2.03 GiB'),(170,3.17,1886757656,'1.76 GiB'),(180,3.71,2219612860,'2.07 GiB')]"
}
